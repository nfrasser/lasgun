const scene = lasgun.scene({
  eye: [0.0, 0.0, 800.0],
  view: [0.0, 0.0, -800.0],
  up: [0.0, 1.0, 0.0],
  ambient: [0.3, 0.3, 0.3],
  width: 512,
  height: 512,
  fov: 50.0,
  sampling: 2,
  threads: 1
})

// Available Materials
let mat0 = scene.add_phong_material({ kd: [0.7, 1.0, 0.7], ks: [0.5, 0.7, 0.5], shininess: 25 })
let mat1 = scene.add_phong_material({ kd: [0.5, 0.5, 0.5], ks: [0.5, 0.7, 0.5], shininess: 25 })
let mat2 = scene.add_phong_material({ kd: [1.0, 0.6, 0.1], ks: [0.5, 0.7, 0.5], shininess: 25 })
let mat3 = scene.add_phong_material({ kd: [0.7, 0.6, 1.0], ks: [0.5, 0.4, 0.8], shininess: 25 })

// Scene lighting
scene.add_point_light({ position: [-100, 150, 400], intensity: [0.9, 0.9, 0.9], falloff: [1, 0, 0] })
scene.add_point_light({ position: [400, 100, 150], intensity: [0.7, 0, 0.7], falloff: [1, 0, 0] })

// Scene contents
let contents = lasgun.contents()
contents.add_sphere({ origin: [0, 0, -400], radius: 100 }, mat0)
contents.add_sphere({ origin: [200, 50, -100], radius: 150 }, mat0)
contents.add_sphere({ origin: [0, -1200, -500], radius: 1000 }, mat1)
contents.add_sphere({ origin: [-100, 25, -300], radius: 50 }, mat2)
contents.add_sphere({ origin: [0, 100, -250], radius: 25 }, mat0)
contents.add_cube({ origin: [-200, -125, 0], dim: 100 }, mat3)

const vertices = new Float32Array([
  -158.333350, 225.647350, -64.699450,
  -207.117500, 241.498300, -64.699450,
  -176.967250, 200.000000, -64.699450,
  -176.967250, 200.000000, -64.699450,
  -207.117500, 158.501700, -64.699450,
  -158.333350, 174.352650, -64.699450,
  -158.333350, 174.352650, -64.699450,
  -128.183050, 132.854500, -64.699450,
  -128.183050, 184.149050, -64.699450,
  -128.183050, 184.149050, -64.699450,
  -79.399000, 200.000000, -64.699450,
  -128.183050, 215.850950, -64.699450,
  -128.183050, 215.850950, -64.699450,
  -128.183050, 267.145500, -64.699450,
  -158.333350, 225.647350, -64.699450,
  -128.183050, 215.850950, -64.699450,
  -79.399000, 200.000000, -64.699450,
  -114.699450, 225.647350, -91.666650,
  -114.699450, 225.647350, -91.666650,
  -92.882500, 241.498300, -135.300550,
  -136.516400, 241.498300, -108.333350,
  -136.516400, 241.498300, -108.333350,
  -171.816950, 267.145500, -135.300550,
  -163.483600, 241.498300, -91.666650,
  -163.483600, 241.498300, -91.666650,
  -207.117500, 241.498300, -64.699450,
  -158.333350, 225.647350, -64.699450,
  -158.333350, 225.647350, -64.699450,
  -150.000000, 200.000000, -21.065500,
  -128.183050, 215.850950, -64.699450,
  -171.816950, 184.149050, -135.300550,
  -171.816950, 132.854500, -135.300550,
  -185.300550, 174.352650, -108.333350,
  -185.300550, 174.352650, -108.333350,
  -207.117500, 158.501700, -64.699450,
  -193.633900, 200.000000, -91.666650,
  -193.633900, 200.000000, -91.666650,
  -207.117500, 241.498300, -64.699450,
  -185.300550, 225.647350, -108.333350,
  -185.300550, 225.647350, -108.333350,
  -171.816950, 267.145500, -135.300550,
  -171.816950, 215.850950, -135.300550,
  -171.816950, 215.850950, -135.300550,
  -150.000000, 200.000000, -178.934500,
  -171.816950, 184.149050, -135.300550,
  -158.333350, 225.647350, -64.699450,
  -128.183050, 267.145500, -64.699450,
  -163.483600, 241.498300, -91.666650,
  -163.483600, 241.498300, -91.666650,
  -171.816950, 267.145500, -135.300550,
  -185.300550, 225.647350, -108.333350,
  -185.300550, 225.647350, -108.333350,
  -220.601000, 200.000000, -135.300550,
  -193.633900, 200.000000, -91.666650,
  -193.633900, 200.000000, -91.666650,
  -207.117500, 158.501700, -64.699450,
  -176.967250, 200.000000, -64.699450,
  -176.967250, 200.000000, -64.699450,
  -150.000000, 200.000000, -21.065500,
  -158.333350, 225.647350, -64.699450,
  -141.666650, 174.352650, -135.300550,
  -92.882500, 158.501700, -135.300550,
  -136.516400, 158.501700, -108.333350,
  -136.516400, 158.501700, -108.333350,
  -128.183050, 132.854500, -64.699450,
  -163.483600, 158.501700, -91.666650,
  -163.483600, 158.501700, -91.666650,
  -207.117500, 158.501700, -64.699450,
  -185.300550, 174.352650, -108.333350,
  -185.300550, 174.352650, -108.333350,
  -220.601000, 200.000000, -135.300550,
  -171.816950, 184.149050, -135.300550,
  -171.816950, 184.149050, -135.300550,
  -150.000000, 200.000000, -178.934500,
  -141.666650, 174.352650, -135.300550,
  -176.967250, 200.000000, -64.699450,
  -207.117500, 241.498300, -64.699450,
  -193.633900, 200.000000, -91.666650,
  -193.633900, 200.000000, -91.666650,
  -220.601000, 200.000000, -135.300550,
  -185.300550, 174.352650, -108.333350,
  -185.300550, 174.352650, -108.333350,
  -171.816950, 132.854500, -135.300550,
  -163.483600, 158.501700, -91.666650,
  -163.483600, 158.501700, -91.666650,
  -128.183050, 132.854500, -64.699450,
  -158.333350, 174.352650, -64.699450,
  -158.333350, 174.352650, -64.699450,
  -150.000000, 200.000000, -21.065500,
  -176.967250, 200.000000, -64.699450,
  -123.032750, 200.000000, -135.300550,
  -92.882500, 241.498300, -135.300550,
  -106.366100, 200.000000, -108.333350,
  -106.366100, 200.000000, -108.333350,
  -79.399000, 200.000000, -64.699450,
  -114.699450, 174.352650, -91.666650,
  -114.699450, 174.352650, -91.666650,
  -128.183050, 132.854500, -64.699450,
  -136.516400, 158.501700, -108.333350,
  -136.516400, 158.501700, -108.333350,
  -171.816950, 132.854500, -135.300550,
  -141.666650, 174.352650, -135.300550,
  -141.666650, 174.352650, -135.300550,
  -150.000000, 200.000000, -178.934500,
  -123.032750, 200.000000, -135.300550,
  -158.333350, 174.352650, -64.699450,
  -207.117500, 158.501700, -64.699450,
  -163.483600, 158.501700, -91.666650,
  -163.483600, 158.501700, -91.666650,
  -171.816950, 132.854500, -135.300550,
  -136.516400, 158.501700, -108.333350,
  -136.516400, 158.501700, -108.333350,
  -92.882500, 158.501700, -135.300550,
  -114.699450, 174.352650, -91.666650,
  -114.699450, 174.352650, -91.666650,
  -79.399000, 200.000000, -64.699450,
  -128.183050, 184.149050, -64.699450,
  -128.183050, 184.149050, -64.699450,
  -150.000000, 200.000000, -21.065500,
  -158.333350, 174.352650, -64.699450,
  -141.666650, 225.647350, -135.300550,
  -171.816950, 267.145500, -135.300550,
  -136.516400, 241.498300, -108.333350,
  -136.516400, 241.498300, -108.333350,
  -128.183050, 267.145500, -64.699450,
  -114.699450, 225.647350, -91.666650,
  -114.699450, 225.647350, -91.666650,
  -79.399000, 200.000000, -64.699450,
  -106.366100, 200.000000, -108.333350,
  -106.366100, 200.000000, -108.333350,
  -92.882500, 158.501700, -135.300550,
  -123.032750, 200.000000, -135.300550,
  -123.032750, 200.000000, -135.300550,
  -150.000000, 200.000000, -178.934500,
  -141.666650, 225.647350, -135.300550,
  -128.183050, 184.149050, -64.699450,
  -128.183050, 132.854500, -64.699450,
  -114.699450, 174.352650, -91.666650,
  -114.699450, 174.352650, -91.666650,
  -92.882500, 158.501700, -135.300550,
  -106.366100, 200.000000, -108.333350,
  -106.366100, 200.000000, -108.333350,
  -92.882500, 241.498300, -135.300550,
  -114.699450, 225.647350, -91.666650,
  -114.699450, 225.647350, -91.666650,
  -128.183050, 267.145500, -64.699450,
  -128.183050, 215.850950, -64.699450,
  -128.183050, 215.850950, -64.699450,
  -150.000000, 200.000000, -21.065500,
  -128.183050, 184.149050, -64.699450,
  -171.816950, 215.850950, -135.300550,
  -220.601000, 200.000000, -135.300550,
  -185.300550, 225.647350, -108.333350,
  -185.300550, 225.647350, -108.333350,
  -207.117500, 241.498300, -64.699450,
  -163.483600, 241.498300, -91.666650,
  -163.483600, 241.498300, -91.666650,
  -128.183050, 267.145500, -64.699450,
  -136.516400, 241.498300, -108.333350,
  -136.516400, 241.498300, -108.333350,
  -92.882500, 241.498300, -135.300550,
  -141.666650, 225.647350, -135.300550,
  -141.666650, 225.647350, -135.300550,
  -150.000000, 200.000000, -178.934500,
  -171.816950, 215.850950, -135.300550,
  -123.032750, 200.000000, -135.300550,
  -92.882500, 158.501700, -135.300550,
  -141.666650, 174.352650, -135.300550,
  -141.666650, 174.352650, -135.300550,
  -171.816950, 132.854500, -135.300550,
  -171.816950, 184.149050, -135.300550,
  -171.816950, 184.149050, -135.300550,
  -220.601000, 200.000000, -135.300550,
  -171.816950, 215.850950, -135.300550,
  -171.816950, 215.850950, -135.300550,
  -171.816950, 267.145500, -135.300550,
  -141.666650, 225.647350, -135.300550,
  -141.666650, 225.647350, -135.300550,
  -92.882500, 241.498300, -135.300550,
  -123.032750, 200.000000, -135.300550,
])

const faces = new Uint32Array(function *() {
    for (let i = 0; i < 180; i++) yield i
}());

contents.add_mesh({ vertices, faces }, mat2)

scene.set_contents(contents)

exports.scene = scene
